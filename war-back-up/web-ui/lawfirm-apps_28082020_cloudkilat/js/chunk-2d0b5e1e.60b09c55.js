(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5e1e"],{"1b90":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"change-password"},[t("h5",{staticClass:"mb-4"},[e._v("Change Password")]),t("b-row",[t("b-col",{attrs:{md:"8"}},[t("b-card",[t("b-form",{on:{submit:function(s){return s.preventDefault(),e.handleSubmit(s)}}},[t("b-form-group",{attrs:{label:"New Password"}},[t("b-form-input",{attrs:{type:"password",placeholder:"New password..."},model:{value:e.$v.password.new.$model,callback:function(s){e.$set(e.$v.password.new,"$model","string"===typeof s?s.trim():s)},expression:"$v.password.new.$model"}}),e.$v.password.new.$error?t("div",{staticClass:"error-message"},[e._v("Password is required and at least contains 8 characters.")]):e._e()],1),t("b-form-group",{attrs:{label:"Confirm New Password"}},[t("b-form-input",{attrs:{type:"password",placeholder:"Confirm new password..."},model:{value:e.$v.password.confirmNew.$model,callback:function(s){e.$set(e.$v.password.confirmNew,"$model","string"===typeof s?s.trim():s)},expression:"$v.password.confirmNew.$model"}}),e.$v.password.confirmNew.$error?t("div",{staticClass:"error-message"},[e._v("Password and confirm password mismatch.")]):e._e()],1),t("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v("Submit")]),t("b-button",{staticClass:"ml-2",attrs:{to:"/admin/profile"}},[e._v("Back")])],1)],1)],1),t("b-col",{attrs:{md:"4"}},[t("b-card",[e._v(e._s(e.$v))])],1)],1),t("b-modal",{attrs:{id:"modal-loading",title:"Loading","hide-footer":""}},[t("b-spinner",{staticClass:"text-center",attrs:{variant:"primary",label:"Loading..."}})],1)],1)},a=[],o=(t("6b54"),t("0be1")),n=t("b5ae"),i={name:"change-password",data:function(){return{employeeId:this.$store.getters.getUid,errorMessage:"",password:{new:"",confirmNew:""},username:this.$store.getters.getUsername}},validations:{password:{new:{required:n["required"],minLength:Object(n["minLength"])(8)},confirmNew:{required:n["required"],minLength:Object(n["minLength"])(8),sameAs:Object(n["sameAs"])((function(){return this.password.new}))}}},methods:{handleSubmit:function(){this.$v.$touch(),this.$v.$invalid?this.error="Please recheck the form.":(console.log("Hello"),this.submitPassword())},submitPassword:function(){var e=this;this.$bvModal.show("modal-loading"),setTimeout((function(){e.$http({method:"post",url:"/employee/managed-employee/".concat(e.employeeId,"/set-password"),headers:{Authorization:"Bearer "+e.$store.getters.getToken},data:{user_pass:Object(o["a"])(e.username,e.password.new).toString()}}).then((function(s){e.$bvModal.hide("modal-loading"),e.$router.push("/admin/profile")})).catch((function(s){e.$bvModal.hide("modal-loading"),e.errorMessage=s.response.data}))}),500)}}},d=i,l=t("0c7c"),m=Object(l["a"])(d,r,a,!1,null,null,null);s["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0b5e1e.60b09c55.js.map